# Task Briefs

Шаблоны постановки задач для AI-агента Codex.

---

## 1. Общие рекомендации

- Формулируйте задачи конкретно и чётко.
- Разбивайте задачу на пошаговые подзадачи.
- Указывайте чёткие критерии готовности.
- Опишите входные данные и ожидаемый результат.
- Уточняйте ограничения и особенности реализации.
- Используйте понятные термины и избегайте двусмысленностей.

---

## 2. Пример: создание базового Django-проекта

**Цель**  
Создать структуру базового Django-проекта с минимальным набором настроек.

**Входные данные**  
- Название проекта  
- Версия Python и Django

**Выходные данные**  
- Созданный Django-проект с базовой настройкой  
- Файлы `manage.py` и `settings.py` с минимальной конфигурацией

**Критерии готовности**  
- Проект запускается командой `python manage.py runserver` без ошибок  
- Создана базовая структура каталогов и файлов проекта

---

## 3. Пример: реализация модели и миграций

**Цель**  
Определить модели данных и создать миграции для базы данных.

**Входные данные**  
- Описание сущностей и их полей  
- Связи между моделями

**Выходные данные**  
- Файлы моделей (`models.py`) с описанием сущностей  
- Созданные миграции (`migrations/`)

**Критерии готовности**  
- Модели соответствуют описанию  
- Миграции успешно применяются командой `python manage.py migrate` без ошибок

---

## 4. Пример: интеграция Telethon

**Цель**  
Интегрировать библиотеку Telethon для работы с Telegram API.

**Входные данные**  
- API ID и Hash  
- Сценарии использования (например, отправка сообщений, получение чатов)

**Выходные данные**  
- Реализованные методы для подключения и взаимодействия с Telegram  
- Обработка ошибок подключения и авторизации

**Критерии готовности**  
- Успешное подключение к Telegram через Telethon  
- Обработка основных исключений (например, ошибки авторизации, таймауты)  
- Методы вызываются согласно заданным сценариям

---

## 5. Пример: реализация воркера сбора постов

**Цель**  
Создать воркер, который собирает посты из заданных источников.

**Входные данные**  
- Источники постов (например, каналы Telegram)  
- Частота сбора

**Выходные данные**  
- Логика сбора и сохранения постов  
- Механизм дедупликации (исключение повторов)

**Критерии готовности**  
- Воркера запускается и собирает посты согласно расписанию  
- Повторы постов не сохраняются  
- Ошибки сбора логируются и не приводят к остановке воркера

---

## 6. Пример: реализация воркера рерайта

**Цель**  
Реализовать воркер, который обрабатывает посты, выполняя их рерайт.

**Входные данные**  
- Входящие посты в формате JSON  
- Настройки рерайта

**Выходные данные**  
- Обработанные посты с изменённым содержанием  
- Логирование процесса обработки  
- Механизм ретраев при ошибках

**Критерии готовности**  
- Воркера корректно обрабатывает JSON с постами  
- Ошибки обрабатываются с повторными попытками (ретраями)  
- Логи содержат информацию о ходе работы и ошибках

---

## 7. Пример: реализация воркера публикации

**Цель**  
Создать воркер, который публикует посты в Telegram.

**Входные данные**  
- Посты для публикации  
- Параметры публикации (канал, задержки)

**Выходные данные**  
- Логика отправки постов по порядку  
- Обработка ошибок, включая `FLOOD_WAIT`

**Критерии готовности**  
- Посты публикуются в правильном порядке  
- При ошибке `FLOOD_WAIT` воркер корректно ждёт и повторяет попытку  
- Логирование публикаций и ошибок

---

## 8. Пример: реализация WebUI (шаблонов)

**Цель**  
Создать веб-интерфейс с основными страницами для управления приложением.

**Входные данные**  
- Список страниц и их функционал

**Выходные данные**  
- HTML-шаблоны страниц  
- Реализация основных компонентов интерфейса

**Критерии готовности**  
- Все страницы отображаются корректно  
- На страницах присутствуют описанные элементы и функции  
- Интерфейс адаптивен и удобен для пользователя

---

## 9. Пример: тестирование

**Цель**  
Написать тесты для проверки корректности работы приложения.

**Входные данные**  
- Описание функционала для тестирования

**Выходные данные**  
- Юнит-тесты и интеграционные тесты  
- Скрипты для запуска тестов

**Критерии готовности**  
- Тесты покрывают основные сценарии использования  
- Все тесты проходят без ошибок  
- Тесты легко запускать и поддерживать

---

## 10. Пример: развёртывание

**Цель**  
Настроить окружение и процессы для развёртывания приложения.

**Входные данные**  
- Конфигурационные файлы (`.env`)  
- Скрипты запуска и сборки

**Выходные данные**  
- Настроенный `.env` с необходимыми переменными  
- Make-команды для запуска сервисов и сборки  
- Документация по развёртыванию

**Критерии готовности**  
- Приложение разворачивается и запускается по инструкции  
- Все сервисы работают корректно  
- Документация понятна и полна
