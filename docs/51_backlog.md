# Project Backlog

## Обзор
Backlog — это основной список задач проекта, который помогает структурировать работу и расставлять приоритеты. Он содержит все необходимые задачи, разделённые по важности и этапам реализации. Используя backlog, команда может планировать спринты, отслеживать прогресс и фокусироваться на ключевых функциях, необходимых для успешного запуска и развития продукта.

---

## P0 – Критические задачи (MVP)
*Задачи, без которых система не работает вообще:*

- [x] Авторизация и управление пользователем  
- [x] Подключение Telethon и сбор постов  
- [x] Сохранение постов в БД и фильтрация  
- [x] Создание сюжетов и отправка в OpenAI  
- [x] Публикация в Telegram  
- [x] Базовый WebUI  
- [x] Воркеры и обработка ошибок

---

## P1 – Важные задачи (Beta)
*Улучшение опыта и стабильности:*

- [x] Расширенные фильтры постов и ключевые слова  
- [x] Пресеты рерайта и редакторские комментарии  
- [x] Базовые шаблоны страниц (лента постов, карточка сюжета, публикации)  
- [x] Просмотр и редактирование промта перед отправкой
- [x] Отложенные публикации и расписание
- [x] Генерация изображений
- [x] Логирование и экран ошибок
- [x] Настройки проекта и срок хранения постов
- [x] Ограничение размеров изображений (512x512) и автоматическая нормализация

---

## P2 – Низкий приоритет (v1.0+)
*Полезные фичи «на потом»:*

- [x] Продвинутые фильтры (исключающие слова, языковая фильтрация)  
- [x] Страница в настройках проекта со всеми промтами, которые используются в этом проекте. Возможность редактировать промты через эту страницу и сохранять изменения.
- [x] Продвинутое управление Публикациями на странице Публикации. Возможность поменять статус, удалить, изменить. Если публикация опубликовано - получение её адреса и быстрый переход по ссылке. Целевой канал указан в настройках проекта.
- [x] Починить навигационное меню. Когда открываю ленту - http://127.0.0.1:8000/projects/1/posts/ то нужно чтобы в меню активиронным был именно "Лента", так как мы находимся в ленте. Если открываешь "Проекты", то активированным были "проекты", так как мы в них находимся и так далее. Вообще вот эта сущность - http://127.0.0.1:8000/projects/1/posts/ — это и есть лента, хорошо бы навести порядок и дать ей понятный url, а не относить её к projects.
- [x] Перенести URL ленты `/projects/<id>/posts/` в отдельный раздел (например, `/feed/<project_id>/`) и обновить навигацию под новое расположение (лента доступна по `/feed/<project_id>/`).
- [x] В шаблоне страницы настройки проекта http://127.0.0.1:8000/projects/1/settings/ убрать кнопку "К проектам". В шаблоне страницы "Публикации" http://127.0.0.1:8000/stories/publications/ убрать кнопку "к сюжетам". В Ленте постов - http://127.0.0.1:8000/projects/1/posts/ убрать строчку с чек-боксами "статусы".
- [x] В шаблоне страницы создания проекта http://127.0.0.1:8000/projects/create/ убрать кнопку "К проектам". На странице http://127.0.0.1:8000/projects/2/sources/ создания источника для проекта, нужно убрать кнопки "к проектам" и "настройки". Если пользователь создал источник, но не указал название, а только ссылку, то название нужно подгружаться автоматически. Если пользователь на странице http://127.0.0.1:8000/projects/2/sources/ нажимает кнопку "изменить" для подключенного источника, то окно редактирования должно появляться на другой странице, чтобы лепить всё в одном шаблоне. 
- [x] В шаблоне страницы работы с сюжетом http://127.0.0.1:8000/stories/6/ убрать кнопку "К списку".
- [x] Нужно добавить такую проверку и запрет: Если в настройках проекта не указан целевой канал, то публиковать сюжет нельзя. Его просто некуда публиковать, сначала пользователь должен указать целевой канал в настройках проекта.
- [x] Исправить ошибку публикации. При публикации видео в существующий канал, к которому у меня есть доступ я получил ошибку: Ошибка публикации: Object of type datetime is not JSON serializable.
- [x] Разделить страницу настроек проекта и управление промтами: отдельный экран с дефолтными пресетами, подсказками и экспортом полного текста.
---

## P3 – Идеи и эксперименты (будущее)
*Долгосрочные планы:*

- Поддержка дополнительных источников контента (RSS, веб-парсер)  
- Командная работа и роли пользователей  
- Версионирование сюжетов  
- Аналитика эффективности публикаций  
- Расширенная интеграция с ботами и внешними API  
- Генерация визуальных обложек и метаданных

---

## Технический долг и рефакторинг
*Задачи по улучшению архитектуры:*

- Оптимизация структуры БД  
- [x] Улучшение ретраев и обработчиков ошибок  
- [x] Переработка очередей и фоновых задач  
- Миграция на S3 для хранения медиа  
- Улучшение конфигурации и параметров через `.env`
