# Project Backlog

## Обзор
Backlog — это основной список задач проекта, который помогает структурировать работу и расставлять приоритеты. Он содержит все необходимые задачи, разделённые по важности и этапам реализации. Используя backlog, команда может планировать спринты, отслеживать прогресс и фокусироваться на ключевых функциях, необходимых для успешного запуска и развития продукта.

---

## P2 – Низкий приоритет (v1.0+)
*Полезные фичи «на потом»:*

- [x] Исправить: Видеомедиа в постах не корректно попадает в post.media_items в ленте.
- Сейчас получается, что мы не используем страницу /stories/37/prompt/ потому что предпросмотр промта у нас организован во вкладке отдельного сюжета http://127.0.0.1:8000/stories/37/ Тогда зачем нам страница просмотра промпта? Она либо не нужна, можно убрать.
- Разработка stories/37/image/ — нужно подумать как выходить на эту страницу из http://127.0.0.1:8000/stories/37/ учитывая общий пайплайн работы. В какой то момент редактор должен поработать с изображениями и ему нужна такая страница, где он может использовать уже загруженные медиа, сгенерировать или загрузить со своего компьютера медиа.
---

## P3 – Идеи и эксперименты (будущее)
*Долгосрочные планы:*

- Интерактивный UI для создания парсеров сайтов (визуальный скрапер) без написания кода. [Подробности](./33_visual_scraper_implementation.md)
- Внедрение сервиса по генерации иллюстраций к публикациям
- Поддержка дополнительных источников контента (RSS, веб-парсер)  
- Командная работа и роли пользователей  
- Версионирование сюжетов  
- Аналитика эффективности публикаций  
- Расширенная интеграция с ботами и внешними API  
- Генерация визуальных обложек и метаданных

---

## Технический долг и рефакторинг
*Задачи по улучшению архитектуры:*

- Оптимизация структуры БД  
- Миграция на S3 для хранения медиа  
- Улучшение конфигурации и параметров через `.env`
- Разбить крупные файлы по ответственностям для улучшения читаемости и тестируемости:
  - `src/projects/models.py` (~770 строк): разделить модели/менеджеры/валидаторы на модули.
  - `src/stories/paperbird_stories/models.py` (~600 строк): вынести вспомогательные методы и связанные модели в пакет.
  - [x] `src/projects/services/web_collector.py` (~560 строк): разделить на сбор/парсинг/нормализацию.
  - [x] `src/projects/forms.py` (~500 строк): разнести формы по доменам (проект, источники, промты) в отдельные файлы.
  - [x] `src/projects/services/collector.py` (~440 строк): выделить планирование задач, статусы и утилиты в подмодули.
  - `src/core/models.py` (~430 строк): вынести общие миксины и модели в отдельные файлы.
  - `src/stories/paperbird_stories/forms.py` (~380 строк): разбить формы по функциям (рерайт, публикации, изображения).
  - [x] `src/stories/paperbird_stories/services/images.py` (~370 строк): отделить нормализацию параметров, провайдеры, генерацию.
